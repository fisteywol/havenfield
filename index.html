<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Havenfield Secondary School</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: #f5f5f5;
            color: #333;
        }

        header {
            background: linear-gradient(135deg, #2c3e50 0%, #3498db 100%);
            color: white;
            padding: 1.5rem 0;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }

        .header-content {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 2rem;
        }

        h1 {
            font-size: 2rem;
            margin-bottom: 0.5rem;
        }

        nav {
            background: white;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
            position: sticky;
            top: 0;
            z-index: 100;
        }

        nav ul {
            list-style: none;
            display: flex;
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 2rem;
        }

        nav li {
            margin: 0;
        }

        nav a {
            display: block;
            padding: 1rem 1.5rem;
            color: #2c3e50;
            text-decoration: none;
            font-weight: 500;
            transition: background 0.3s, color 0.3s;
        }

        nav a:hover {
            background: #3498db;
            color: white;
        }

        nav a.active {
            background: #2c3e50;
            color: white;
        }

        .container {
            max-width: 1200px;
            margin: 2rem auto;
            padding: 0 2rem;
        }

        .page {
            display: none;
            animation: fadeIn 0.5s;
        }

        .page.active {
            display: block;
        }

        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        .card {
            background: white;
            padding: 2rem;
            border-radius: 8px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            margin-bottom: 2rem;
        }

        .gallery {
            position: relative;
            width: 100%;
            max-width: 800px;
            margin: 2rem auto;
            background: white;
            border-radius: 8px;
            overflow: hidden;
            box-shadow: 0 4px 15px rgba(0,0,0,0.1);
        }

        .gallery-container {
            position: relative;
            width: 100%;
            padding-top: 56.25%;
        }

        .gallery img {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            object-fit: cover;
            display: none;
        }

        .gallery img.active {
            display: block;
        }

        .gallery-controls {
            position: absolute;
            bottom: 0;
            left: 0;
            right: 0;
            background: rgba(0,0,0,0.5);
            padding: 1rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .gallery-btn {
            background: #3498db;
            color: white;
            border: none;
            padding: 0.5rem 1rem;
            border-radius: 4px;
            cursor: pointer;
            font-size: 1rem;
            transition: background 0.3s;
        }

        .gallery-btn:hover {
            background: #2980b9;
        }

        .gallery-dots {
            display: flex;
            gap: 0.5rem;
        }

        .dot {
            width: 10px;
            height: 10px;
            border-radius: 50%;
            background: rgba(255,255,255,0.5);
            cursor: pointer;
            transition: background 0.3s;
        }

        .dot.active {
            background: white;
        }

        .staff-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 1.5rem;
            margin-top: 2rem;
        }

        .staff-card {
            background: white;
            padding: 1.5rem;
            border-radius: 8px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            transition: transform 0.3s, box-shadow 0.3s;
        }

        .staff-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 4px 20px rgba(0,0,0,0.15);
        }

        .staff-card h3 {
            color: #2c3e50;
            margin-bottom: 0.5rem;
        }

        .staff-role {
            color: #3498db;
            font-weight: 600;
            margin-bottom: 0.25rem;
        }

        .staff-subrole {
            color: #7f8c8d;
            font-size: 0.9rem;
            margin-bottom: 1rem;
        }

        .form-group {
            margin-bottom: 1.5rem;
        }

        .form-group label {
            display: block;
            margin-bottom: 0.5rem;
            font-weight: 500;
            color: #2c3e50;
        }

        .form-group input,
        .form-group select,
        .form-group textarea {
            width: 100%;
            padding: 0.75rem;
            border: 2px solid #e0e0e0;
            border-radius: 4px;
            font-size: 1rem;
            transition: border-color 0.3s;
        }

        .form-group input:focus,
        .form-group select:focus,
        .form-group textarea:focus {
            outline: none;
            border-color: #3498db;
        }

        .form-group textarea {
            resize: vertical;
            min-height: 100px;
        }

        .btn {
            background: #3498db;
            color: white;
            border: none;
            padding: 1rem 2rem;
            border-radius: 4px;
            font-size: 1rem;
            cursor: pointer;
            transition: background 0.3s;
        }

        .btn:hover {
            background: #2980b9;
        }

        .btn:disabled {
            background: #95a5a6;
            cursor: not-allowed;
        }

        .discord-btn {
            background: #5865F2;
            color: white;
            border: none;
            padding: 1rem 2rem;
            border-radius: 4px;
            font-size: 1rem;
            cursor: pointer;
            text-decoration: none;
            display: inline-block;
            transition: background 0.3s;
        }

        .discord-btn:hover {
            background: #4752C4;
        }

        .checkbox-group {
            display: flex;
            align-items: start;
            gap: 0.5rem;
            margin-bottom: 1rem;
        }

        .checkbox-group input {
            margin-top: 0.25rem;
            width: auto;
        }

        .success-message {
            background: #2ecc71;
            color: white;
            padding: 1rem;
            border-radius: 4px;
            margin-bottom: 1rem;
            display: none;
        }

        .error-message {
            background: #e74c3c;
            color: white;
            padding: 1rem;
            border-radius: 4px;
            margin-bottom: 1rem;
            display: none;
        }

        .section {
            margin-bottom: 2rem;
        }

        .section h2 {
            color: #2c3e50;
            margin-bottom: 1rem;
            padding-bottom: 0.5rem;
            border-bottom: 3px solid #3498db;
        }

        .user-info {
            background: #ecf0f1;
            padding: 1rem;
            border-radius: 4px;
            margin-bottom: 1.5rem;
        }
    </style>
</head>
<body>
    <header>
        <div class="header-content">
            <h1>Havenfield Secondary School</h1>
            <p>Excellence in Education</p>
        </div>
    </header>

    <nav>
        <ul>
            <li><a href="#home" class="nav-link active">Home</a></li>
            <li><a href="#about" class="nav-link">About</a></li>
            <li><a href="#staff" class="nav-link">Staff</a></li>
            <li><a href="#applications" class="nav-link">Applications</a></li>
            <li><a href="#support" class="nav-link">Head of Year Support</a></li>
        </ul>
    </nav>

    <div class="container">
        <!-- HOME PAGE -->
        <div id="home" class="page active">
            <div class="card">
                <h2>Welcome to Havenfield Secondary School</h2>
                <p>Havenfield Secondary School is a premier educational institution dedicated to fostering academic excellence, personal growth, and community engagement. Our experienced staff and modern facilities provide students with the tools they need to succeed in their educational journey.</p>
                <p>We offer a comprehensive curriculum across various subjects, with dedicated teachers who are passionate about helping students reach their full potential. Our school community is built on respect, integrity, and a commitment to lifelong learning.</p>
            </div>

            <div class="gallery">
                <div class="gallery-container">
                    <img src="1.png" class="gallery-img active" alt="School Image 1">
                    <img src="2.png" class="gallery-img" alt="School Image 2">
                    <img src="3.png" class="gallery-img" alt="School Image 3">
                    <img src="4.png" class="gallery-img" alt="School Image 4">
                    <img src="5.png" class="gallery-img" alt="School Image 5">
                    <div class="gallery-controls">
                        <button class="gallery-btn" onclick="changeSlide(-1)">â€¹ Previous</button>
                        <div class="gallery-dots">
                            <span class="dot active" onclick="goToSlide(0)"></span>
                            <span class="dot" onclick="goToSlide(1)"></span>
                            <span class="dot" onclick="goToSlide(2)"></span>
                            <span class="dot" onclick="goToSlide(3)"></span>
                            <span class="dot" onclick="goToSlide(4)"></span>
                        </div>
                        <button class="gallery-btn" onclick="changeSlide(1)">Next â€º</button>
                    </div>
                </div>
            </div>
        </div>

        <!-- ABOUT PAGE -->
        <div id="about" class="page">
            <div class="card">
                <div class="section">
                    <h2>Our Mission</h2>
                    <p>At Havenfield Secondary School, our mission is to provide a nurturing and challenging learning environment that empowers students to achieve academic excellence while developing strong character and social responsibility.</p>
                </div>

                <div class="section">
                    <h2>Academic Excellence</h2>
                    <p>We offer a rigorous curriculum spanning Mathematics, English, Science, History, Geography, Languages, Arts, Physical Education, IT & Computing, and Pastoral Care. Our dedicated teachers use innovative teaching methods to engage students and promote critical thinking.</p>
                </div>

                <div class="section">
                    <h2>Our Facilities</h2>
                    <p>Havenfield Secondary School boasts state-of-the-art facilities including modern classrooms, well-equipped science laboratories, computer suites, a comprehensive library, sports facilities, and creative arts studios. Our campus provides an ideal environment for learning and personal development.</p>
                </div>

                <div class="section">
                    <h2>Community & Values</h2>
                    <p>We foster a strong sense of community built on respect, integrity, and inclusivity. Our school encourages student participation in extracurricular activities, sports teams, and community service projects. We believe in developing well-rounded individuals who will make positive contributions to society.</p>
                </div>
            </div>

            <div class="gallery">
                <div class="gallery-container">
                    <img src="6.png" class="gallery-img active" alt="About Image 1">
                    <img src="7.png" class="gallery-img" alt="About Image 2">
                    <div class="gallery-controls">
                        <button class="gallery-btn" onclick="changeAboutSlide(-1)">â€¹ Previous</button>
                        <div class="gallery-dots">
                            <span class="dot active" onclick="goToAboutSlide(0)"></span>
                            <span class="dot" onclick="goToAboutSlide(1)"></span>
                        </div>
                        <button class="gallery-btn" onclick="changeAboutSlide(1)">Next â€º</button>
                    </div>
                </div>
            </div>
        </div>

        <!-- STAFF PAGE -->
        <div id="staff" class="page">
            <div class="card">
                <h2>Our Staff</h2>
                <p>Meet the dedicated professionals who make Havenfield Secondary School a place of excellence.</p>
                
                <div class="staff-grid">
                    
                    <div class="staff-card">
                        <h3>Mr R Carter</h3>
                        <div class="staff-role">Executive Headteacher</div>
                        <div class="staff-subrole">Not assigned</div>
                    </div>

                    <div class="staff-card">
                        <h3>Mr L Pretzel</h3>
                        <div class="staff-role">Headteacher</div>
                        <div class="staff-subrole">Staffing Lead</div>
                    </div>

                    <div class="staff-card">
                        <h3>Mr A Nount</h3>
                        <div class="staff-role">Senior Deputy Headteacher</div>
                        <div class="staff-subrole">Teaching and Learning Lead</div>
                    </div>

                    <div class="staff-card">
                        <h3>Mr L Chris</h3>
                        <div class="staff-role">Senior Deputy Headteacher</div>
                        <div class="staff-subrole">Behavioural Support Unit Coordinator</div>
                    </div>

                    <div class="staff-card">
                        <h3>Mr C Pretzel</h3>
                        <div class="staff-role">Senior Deputy Headteacher</div>
                        <div class="staff-subrole">Staffing Lead</div>
                    </div>

                    <div class="staff-card">
                        <h3>Miss H Mynydd</h3>
                        <div class="staff-role">Senior Deputy Headteacher</div>
                        <div class="staff-subrole">Not assigned</div>
                    </div>

                    <div class="staff-card">
                        <h3>Mr J Taylor</h3>
                        <div class="staff-role">Senior Deputy Headteacher</div>
                        <div class="staff-subrole">Safeguarding Lead</div>
                    </div>

                    <div class="staff-card">
                        <h3>Mr D Devlin</h3>
                        <div class="staff-role">Senior Deputy Headteacher</div>
                        <div class="staff-subrole">Not assigned</div>
                    </div>

                    <div class="staff-card">
                        <h3>Mr S Hoult</h3>
                        <div class="staff-role">Senior Deputy Headteacher</div>
                        <div class="staff-subrole">Behaviour and Attitudes Lead</div>
                    </div>

                    <div class="staff-card">
                        <h3>Mr T Foster</h3>
                        <div class="staff-role">Senior Deputy Headteacher</div>
                        <div class="staff-subrole">Not assigned</div>
                    </div>
                    
                </div>
            </div>
        </div>

        <!-- APPLICATIONS PAGE -->
        <div id="applications" class="page">
            <div class="card">
                <h2>Staff Applications</h2>
                <div id="app-login">
                    <p>To apply for a position at Havenfield Secondary School, please sign in with Discord.</p>
                    <a href="https://discord.com/api/oauth2/authorize?client_id=1436053855606542427&redirect_uri=https%3A%2F%2Ffisteywol.github.io%2Fhavenfield%2F&response_type=code&scope=identify" class="discord-btn">Sign in with Discord</a>
                </div>

                <div id="app-form" style="display:none;">
                    <div class="user-info">
                        <strong>Logged in as:</strong> <span id="app-username"></span>
                    </div>

                    <div class="success-message" id="app-success">Application submitted successfully!</div>
                    <div class="error-message" id="app-error">Please fill in all required fields.</div>

                    <form id="applicationForm">
                        <div class="form-group">
                            <label>What is your teaching name? *</label>
                            <input type="text" id="teachingName" required>
                        </div>

                        <div class="form-group">
                            <label>What is your Roblox username? *</label>
                            <input type="text" id="robloxUsername" required>
                        </div>

                        <div class="form-group">
                            <label>What type of department are you interested in? *</label>
                            <select id="department" required>
                                <option value="">Select a department</option>
                                <option value="Mathematics">Mathematics</option>
                                <option value="English">English</option>
                                <option value="Science">Science</option>
                                <option value="History">History</option>
                                <option value="Geography">Geography</option>
                                <option value="Languages">Languages</option>
                                <option value="Arts">Arts</option>
                                <option value="Physical Education">Physical Education</option>
                                <option value="IT & Computing">IT & Computing</option>
                                <option value="Pastoral Care">Pastoral Care</option>
                            </select>
                        </div>

                        <div class="form-group">
                            <label>Why should we choose you over other applications? (At least 2 sentences) *</label>
                            <textarea id="whyChoose" required></textarea>
                        </div>

                        <div class="form-group">
                            <label>What are your strengths and weaknesses? *</label>
                            <textarea id="strengths" required></textarea>
                        </div>

                        <div class="form-group">
                            <label>Do you have any prior experience in ro-school? *</label>
                            <textarea id="experience" required></textarea>
                        </div>

                        <div class="form-group">
                            <label>Any other questions? (If not, leave blank)</label>
                            <textarea id="otherQuestions"></textarea>
                        </div>

                        <div class="section">
                            <h3>Confirmation Requirements</h3>
                            <div class="checkbox-group">
                                <input type="checkbox" id="age" required>
                                <label for="age">I confirm I am over the age of 13+ years old, and I can attend at least 3-6 sessions a week.</label>
                            </div>
                            <div class="checkbox-group">
                                <input type="checkbox" id="grammar" required>
                                <label for="grammar">I will use proper grammar at sessions, maintain a positive and optimistic mindset, and refrain from shouting at others.</label>
                            </div>
                            <div class="checkbox-group">
                                <input type="checkbox" id="respect" required>
                                <label for="respect">I will be respectful to the Senior Leadership Team.</label>
                            </div>
                            <div class="checkbox-group">
                                <input type="checkbox" id="sentences" required>
                                <label for="sentences">I confirm my application contains minimum 3 sentences where required.</label>
                            </div>
                        </div>

                        <button type="submit" class="btn">Submit Application</button>
                    </form>
                </div>
            </div>
        </div>

        <!-- HEAD OF YEAR SUPPORT PAGE -->
        <div id="support" class="page">
            <div class="card">
                <h2>Head of Year Support</h2>
                <div id="support-login">
                    <p>To request support from the Head of Year, please sign in with Discord.</p>
                    <a href="https://discord.com/api/oauth2/authorize?client_id=1436053855606542427&redirect_uri=https%3A%2F%2Ffisteywol.github.io%2Fhavenfield%2F&response_type=code&scope=identify" class="discord-btn">Sign in with Discord</a>
                </div>

                <div id="support-form" style="display:none;">
                    <div class="user-info">
                        <strong>Logged in as:</strong> <span id="support-username"></span>
                    </div>

                    <div class="success-message" id="support-success">Support request submitted successfully!</div>
                    <div class="error-message" id="support-error">Please fill in all required fields.</div>

                    <form id="supportForm">
                        <div class="form-group">
                            <label>Your Roblox Username *</label>
                            <input type="text" id="supportRoblox" required>
                        </div>

                        <div class="form-group">
                            <label>Your Roleplay Name (Used for SIMS) *</label>
                            <input type="text" id="roleplayName" required>
                        </div>

                        <div class="form-group">
                            <label>Issue / Thing You Need Help With *</label>
                            <textarea id="issue" required></textarea>
                        </div>

                        <button type="submit" class="btn">Submit Request</button>
                    </form>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Navigation
        const navLinks = document.querySelectorAll('.nav-link');
        const pages = document.querySelectorAll('.page');

        navLinks.forEach(link => {
            link.addEventListener('click', (e) => {
                e.preventDefault();
                const targetId = link.getAttribute('href').substring(1);
                
                navLinks.forEach(l => l.classList.remove('active'));
                pages.forEach(p => p.classList.remove('active'));
                
                link.classList.add('active');
                document.getElementById(targetId).classList.add('active');
            });
        });

        // Home Gallery
        let currentSlide = 0;
        const homeSlides = document.querySelectorAll('#home .gallery-img');
        const homeDots = document.querySelectorAll('#home .dot');

        function showSlide(n) {
            if (n >= homeSlides.length) currentSlide = 0;
            if (n < 0) currentSlide = homeSlides.length - 1;
            
            homeSlides.forEach(slide => slide.classList.remove('active'));
            homeDots.forEach(dot => dot.classList.remove('active'));
            
            homeSlides[currentSlide].classList.add('active');
            homeDots[currentSlide].classList.add('active');
        }

        function changeSlide(n) {
            currentSlide += n;
            showSlide(currentSlide);
        }

        function goToSlide(n) {
            currentSlide = n;
            showSlide(currentSlide);
        }

        // About Gallery
        let currentAboutSlide = 0;
        const aboutSlides = document.querySelectorAll('#about .gallery-img');
        const aboutDots = document.querySelectorAll('#about .dot');

        function showAboutSlide(n) {
            if (n >= aboutSlides.length) currentAboutSlide = 0;
            if (n < 0) currentAboutSlide = aboutSlides.length - 1;
            
            aboutSlides.forEach(slide => slide.classList.remove('active'));
            aboutDots.forEach(dot => dot.classList.remove('active'));
            
            aboutSlides[currentAboutSlide].classList.add('active');
            aboutDots[currentAboutSlide].classList.add('active');
        }

        function changeAboutSlide(n) {
            currentAboutSlide += n;
            showAboutSlide(currentAboutSlide);
        }

        function goToAboutSlide(n) {
            currentAboutSlide = n;
            showAboutSlide(currentAboutSlide);
        }

        // Discord OAuth handling
        const urlParams = new URLSearchParams(window.location.search);
        const code = urlParams.get('code');

        if (code) {
            // In a real implementation, you would exchange the code for user info
            // For this demo, we'll simulate it
            const mockUser = {
                username: 'User#1234',
                id: '123456789'
            };
            
            // Store user info
            sessionStorage.setItem('discordUser', JSON.stringify(mockUser));
        }

        // Check if user is logged in
        const discordUser = sessionStorage.getItem('discordUser');
        if (discordUser) {
            const user = JSON.parse(discordUser);
            
            // Show application form
            document.getElementById('app-login').style.display = 'none';
            document.getElementById('app-form').style.display = 'block';
            document.getElementById('app-username').textContent = user.username;
            
            // Show support form
            document.getElementById('support-login').style.display = 'none';
            document.getElementById('support-form').style.display = 'block';
            document.getElementById('support-username').textContent = user.username;
        }

        // Application Form Submission
        document.getElementById('applicationForm').addEventListener('submit', async (e) => {
            e.preventDefault();
            
            const user = JSON.parse(sessionStorage.getItem('discordUser'));
            const teachingName = document.getElementById('teachingName').value;
            const robloxUsername = document.getElementById('robloxUsername').value;
            const department = document.getElementById('department').value;
            const whyChoose = document.getElementById('whyChoose').value;
            const strengths = document.getElementById('strengths').value;
            const experience = document.getElementById('experience').value;
            const otherQuestions = document.getElementById('otherQuestions').value;
            
            const age = document.getElementById('age').checked;
            const grammar = document.getElementById('grammar').checked;
            const respect = document.getElementById('respect').checked;
            const sentences = document.getElementById('sentences').checked;

            // Validate
            if (!teachingName || !robloxUsername || !department || !whyChoose || !strengths || !experience) {
                document.getElementById('app-error').style.display = 'block';
                setTimeout(() => {
                    document.getElementById('app-error').style.display = 'none';
                }, 3000);
                return;
            }

            if (!age || !grammar || !respect || !sentences) {
                alert('Please confirm all requirements.');
                return;
            }

            // Check sentence requirement
            const whySentences = whyChoose.split(/[.!?]+/).filter(s => s.trim().length > 0).length;
            if (whySentences < 2) {
                alert('Please provide at least 2 sentences for "Why should we choose you?"');
                return;
            }

            // Create Discord embed
            const embed = {
                embeds: [{
                    title: 'ðŸ“‹ New Staff Application',
                    color: 3447003,
                    fields: [
                        { name: 'Discord Username', value: user.username, inline: true },
                        { name: 'Discord ID', value: user.id, inline: true },
                        { name: 'Teaching Name', value: teachingName, inline: false },
                        { name: 'Roblox Username', value: robloxUsername, inline: false },
                        { name: 'Department', value: department, inline: false },
                        { name: 'Why Choose Them?', value: whyChoose, inline: false },
                        { name: 'Strengths & Weaknesses', value: strengths, inline: false },
                        { name: 'Prior Experience', value: experience, inline: false },
                        { name: 'Other Questions', value: otherQuestions || 'None', inline: false }
                    ],
                    timestamp: new Date().toISOString(),
                    footer: { text: 'Havenfield Secondary School Applications' }
                }]
            };

            try {
                const response = await fetch('https://discord.com/api/webhooks/1436394768962949323/VV-3BDyhWPRIz2jfTdYNvvp91DGI-PL1gctIhmWheceGM1pPsBsL1y0RWSeIKNHOCQyU', {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify(embed)
                });

                if (response.ok) {
                    document.getElementById('app-success').style.display = 'block';
                    document.getElementById('applicationForm').reset();
                    setTimeout(() => {
                        document.getElementById('app-success').style.display = 'none';
                    }, 5000);
                }
            } catch (error) {
                console.error('Error submitting application:', error);
                alert('Error submitting application. Please try again.');
            }
        });

        // Support Form Submission
        document.getElementById('supportForm').addEventListener('submit', async (e) => {
            e.preventDefault();
            
            const user = JSON.parse(sessionStorage.getItem('discordUser'));
            const robloxUsername = document.getElementById('supportRoblox').value;
            const roleplayName = document.getElementById('roleplayName').value;
            const issue = document.getElementById('issue').value;

            if (!robloxUsername || !roleplayName || !issue) {
                document.getElementById('support-error').style.display = 'block';
                setTimeout(() => {
                    document.getElementById('support-error').style.display = 'none';
                }, 3000);
                return;
            }

            // Create Discord embed
            const embed = {
                embeds: [{
                    title: 'ðŸ†˜ Head of Year Support Request',
                    color: 15158332,
                    fields: [
                        { name: 'Discord Username', value: user.username, inline: true },
                        { name: 'Discord ID', value: user.id, inline: true },
                        { name: 'Roblox Username', value: robloxUsername, inline: false },
                        { name: 'Roleplay Name (SIMS)', value: roleplayName, inline: false },
                        { name: 'Issue / Help Needed', value: issue, inline: false }
                    ],
                    timestamp: new Date().toISOString(),
                    footer: { text: 'Havenfield Secondary School Support' }
                }]
            };

            try {
                const response = await fetch('https://discord.com/api/webhooks/1436396344561369232/sANOJTybSS_inNNuFbjoqFujwDaztVKdzJmE50HAlJazvWgbo3Ua-ZNgvmz6_kSo0CUl', {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify(embed)
                });

                if (response.ok) {
                    document.getElementById('support-success').style.display = 'block';
                    document.getElementById('supportForm').reset();
                    setTimeout(() => {
                        document.getElementById('support-success').style.display = 'none';
                    }, 5000);
                }
            } catch (error) {
                console.error('Error submitting support request:', error);
                alert('Error submitting support request. Please try again.');
            }
        });
    </script>
</body>
</html>
